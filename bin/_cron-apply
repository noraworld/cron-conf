#compdef cron-apply

# https://unix.stackexchange.com/questions/467412/how-do-i-grep-file-paths-out-of-a-text-file#answer-467415
FULLPATH=$(type _cron-apply | grep -o '/[^"]*' | xargs -n 1 dirname)

_cron-apply() {
  local -a dirs
  dirs=( ${(uf)"$(ls -1d $FULLPATH/../*/ | xargs -n 1 basename | grep -v bin)"} )

  _arguments '*: :->dirs'

  case "$state" in
    dirs)
      _values $state $dirs
      ;;
  esac
}

compdef _cron-apply cron-apply
