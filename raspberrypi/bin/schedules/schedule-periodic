#!/bin/sh

# Auto-update cron conf
cron-apply

# Observe IP address not getting lost
sudo ip-observer

# Observe the system clock not lagging
clock-observer

# Observe a firewall blocking the DNS port
#
# How to check if it works fine:
#
#   Make sure the following command returns 0
#     $ sudo iptables-save | grep -i "forward" | grep "53" | grep -c "ACCEPT"
#
#   Then execute the following command
#     $ sudo iptables -A FORWARD -p udp -m udp --dport 53 -j ACCEPT
#
#   Perform the following command again and make sure it returns 1
#     $ sudo iptables-save | grep -i "forward" | grep "53" | grep -c "ACCEPT"
#
#   If it works properly, the result of the above command should be reset to 0 when the observer is executed
#
observe-firewall

# Auto-update specific Git repositories
auto-git-pull
